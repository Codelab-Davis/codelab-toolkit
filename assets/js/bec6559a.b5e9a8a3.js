"use strict";(self.webpackChunktmp=self.webpackChunktmp||[]).push([[424],{1765:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var s=t(1527),o=t(7463),i=t(6533);const a={title:"useEffect Hook",description:"Side Effects"},r="useEffect Hook: Side Effects",c={id:"guide/useEffect",title:"useEffect Hook",description:"Side Effects",source:"@site/docs/guide/useEffect.mdx",sourceDirName:"guide",slug:"/guide/useEffect",permalink:"/docs/guide/useEffect",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"useEffect Hook",description:"Side Effects"},sidebar:"guideSidebar",previous:{title:"useState Hook",permalink:"/docs/guide/useState"},next:{title:"useContext Hook",permalink:"/docs/guide/useContext"}},d={},l=[{value:"Introduction",id:"introduction",level:2},{value:"How to use <code>useEffect</code>",id:"how-to-use-useeffect",level:2},{value:"Steps",id:"steps",level:3},{value:"Dependency Guide",id:"dependency-guide",level:3},{value:"Examples",id:"examples",level:2},{value:"Controlling a modal with a dependency array",id:"controlling-a-modal-with-a-dependency-array",level:3},{value:"Listening to a Global Browser Event",id:"listening-to-a-global-browser-event",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"useeffect-hook-side-effects",children:"useEffect Hook: Side Effects"}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"useEffect"})," is a powerful hook in React that enables you to manage side effects and interactions with the outside world in your components. Side effects can include data fetching, DOM manipulation, setting up subscriptions, and more. This hook plays a crucial role in ensuring your components respond to changes and events in a controlled and predictable manner."]}),"\n",(0,s.jsxs)(n.p,{children:["To grasp the significance of the ",(0,s.jsx)(n.code,{children:"useEffect"})," hook, let's consider a scenario: imagine you're building a real-time chat application. You want to update the chat window whenever a new message arrives. Without ",(0,s.jsx)(n.code,{children:"useEffect"}),", you'd face the challenge of manually coordinating these updates and handling asynchronous data flow."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"useEffect"})," comes to the rescue by providing a declarative way to manage these side effects. It allows you to specify what should happen in response to specific events or changes, all within the confines of your React components."]}),"\n",(0,s.jsx)(n.p,{children:"This hook simplifies your code by separating the concerns of rendering and side effects, making it more maintainable and less error-prone. It's like having a dedicated assistant who takes care of the behind-the-scenes work while you focus on building a responsive and interactive user interface."}),"\n",(0,s.jsxs)(n.h2,{id:"how-to-use-useeffect",children:["How to use ",(0,s.jsx)(n.code,{children:"useEffect"})]}),"\n",(0,s.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Import React at the top of your JSX or TSX file."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useEffect"})," follows the format of ",(0,s.jsx)(n.code,{children:"useState(setup, dependencies)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Setup:"})," A function that contains the hook\u2019s logic. This function may also optionally return a cleanup function. On every render with changed dependencies, React will first run the cleanup function (if provided) with old values, and then run the setup function with new values."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Dependencies (optional):"})," An array of ",(0,s.jsx)(n.strong,{children:"reactive"})," values references inside the setup function. ",(0,s.jsx)(n.strong,{children:"Reactive"})," values include all props, states, variables, and functions declared in the body of your component. You can easily verify that your ",(0,s.jsx)(n.code,{children:"useEffect"})," has the correct dependencies by ",(0,s.jsx)(n.a,{href:"https://react.dev/learn/editor-setup#linting",children:"configuring your linter"}),".","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Refer to the ",(0,s.jsx)(n.a,{href:"#dependency-guide",children:"Dependency Guide"})," to learn how to pass dependency arrays."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Call ",(0,s.jsx)(n.code,{children:"useEffect"})," at the top level of your component to declare a state variable.","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Note: Since ",(0,s.jsx)(n.code,{children:"useEffect"})," is a hook, you ",(0,s.jsx)(n.strong,{children:"cannot"})," call it inside loops or conditions. If necessary, you can extract a new component and move the state into it."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import React, { useState, useEffect } from 'react';\n\nfunction App() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    // Fetch data from an API\n    fetch('https://api.example.com/data')\n      .then((response) => response.json())\n      .then((result) => setData(result))\n      .catch((error) => console.error(error));\n  }, []);\n  // ...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dependency-guide",children:"Dependency Guide"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(() => {\n    // ...\n}, []); // Does not run again (except once in development)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Passing an empty dependency array will only run the effect once on the initial render/code/cp"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(() => {\n    // ...\n}, [a, b]); // Runs again if a or b are different\n"})}),"\n",(0,s.jsx)(n.p,{children:"Specifying dependencies in the dependency array will run the Effect on the initial render and every subsequent render where the dependencies have changed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(() => {\n    // ...\n}); // Always runs again\n"})}),"\n",(0,s.jsx)(n.p,{children:"Passing no dependency array will rerun your Effect after every single render of your component."}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h3,{id:"controlling-a-modal-with-a-dependency-array",children:"Controlling a modal with a dependency array"}),"\n",(0,s.jsx)(n.p,{children:"This example passes a state variable (isOpen) into the useEffect dependency array. The state variable is updated when the Open Dialog button is pressed, running the setup function and displaying the modal. When the Open Dialog button is pressed again, the useEffect runs the cleanup function to close the dialog."}),"\n",(0,s.jsx)(i.Z,{src:"https://codesandbox.io/embed/vigorous-snowflake-6f2sn8?codemirror=1&fontsize=14&hidenavigation=1&module=%2FModalDialog.js&theme=dark"}),"\n",(0,s.jsx)(n.h3,{id:"listening-to-a-global-browser-event",children:"Listening to a Global Browser Event"}),"\n",(0,s.jsxs)(n.p,{children:["This example passes an empty dependency array to run the setup function only on the initial render. The setup function adds a global listener to the position of the user\u2019s cursor to move the ",(0,s.jsx)(n.code,{children:"div"})," correspondingly. When the component is removed from the DOM, the cleanup function is run to remove the global listener."]}),"\n",(0,s.jsx)(i.Z,{src:"https://codesandbox.io/embed/white-monad-2hwrwm?fontsize=14&hidenavigation=1&module=%2FApp.js&theme=dark"}),"\n",(0,s.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsxs)(n.p,{children:["If you would like to learn more about ",(0,s.jsx)(n.code,{children:"useEffect"}),", please refer to the ",(0,s.jsx)(n.a,{href:"https://react.dev/reference/react/useEffect",children:"official React documentation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},6533:(e,n,t)=>{t.d(n,{Z:()=>o});t(959);var s=t(1527);const o=e=>{let{src:n}=e;return(0,s.jsx)("div",{className:"flex h-[500px] rounded border",children:(0,s.jsx)("iframe",{src:n,className:"h-full w-full",frameborder:"0"})})}},7463:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var s=t(959);const o={},i=s.createContext(o);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);